# ユースケース別の例

このファイルでは、一般的なユースケース別のプロンプト例を紹介する。

## 1. コード生成

### 基本パターン

```
[プログラミング言語]で[機能]を実装してください。

要件:
- [要件1]
- [要件2]
- [要件3]

制約:
- [制約1]
- [制約2]

コードには以下を含めてください:
- エラーハンドリング
- 型ヒント（該当言語の場合）
- 簡潔なコメント（複雑なロジックのみ）
```

### 具体例

```
Pythonで、CSVファイルを読み込んで前処理を行う関数を実装してください。

要件:
- 欠損値を中央値で補完
- 数値カラムを0-1の範囲に正規化
- カテゴリカルカラムをone-hot エンコーディング

制約:
- pandasとscikit-learnを使用
- 関数名は preprocess_csv
- 型ヒントを含める

コードには以下を含めてください:
- 入力検証（ファイルの存在確認、形式チェック）
- 適切なエラーハンドリング
- docstring（関数の説明、パラメータ、戻り値）
```

## 2. データ分析

### 基本パターン

```
以下のデータを分析し、[分析目的]を達成してください。

<data>
[データ]
</data>

分析内容:
1. [分析項目1]
2. [分析項目2]
3. [分析項目3]

出力形式:
- [形式の指定]

可視化:
- [グラフの種類]
```

### 具体例

```
以下の売上データを分析し、売上トレンドと改善機会を特定してください。

<data>
月,売上,顧客数,平均単価
2024-01,1000000,500,2000
2024-02,1200000,550,2182
...
</data>

分析内容:
1. 月次トレンド分析
   - 売上、顧客数、平均単価の推移
   - 前月比成長率

2. 異常値の検出
   - 通常のトレンドから大きく外れた月を特定

3. 改善機会の特定
   - 顧客数が減少している月
   - 平均単価が低下している月

出力形式:
- Markdown形式
- 表を使用して数値を整理
- 重要な発見を3-5個の箇条書きで要約

可視化:
- 月次トレンドの折れ線グラフ（Python matplotlibコード）
```

## 3. 文書作成

### 基本パターン

```
あなたは[専門分野]の専門家です。
以下の情報をもとに、[文書の種類]を作成してください。

<input>
[入力情報]
</input>

文書の構成:
1. [セクション1]
2. [セクション2]
3. [セクション3]

対象読者: [読者層]
トーン: [フォーマル/カジュアル/技術的など]
長さ: [文字数または語数]
```

### 具体例

```
あなたは技術文書作成の専門家です。
以下のAPI仕様をもとに、開発者向けのクイックスタートガイドを作成してください。

<api_spec>
名前: Weather API
エンドポイント: GET /api/weather
パラメータ: city (string), apikey (string)
レスポンス: JSON形式で気温、湿度、天気を返す
</api_spec>

文書の構成:
1. 概要（APIの目的と主な機能）
2. 前提条件（APIキーの取得方法）
3. クイックスタート（5分で動作させる手順）
4. リクエスト例（curlとJavaScript）
5. レスポンス例とフィールド説明
6. エラーハンドリング
7. 次のステップ（高度な使い方へのリンク）

対象読者: 初級〜中級のWeb開発者
トーン: フレンドリーだが専門的
長さ: 500-800語
```

## 4. 質問応答

### 基本パターン

```
以下のドキュメントを参照して、質問に答えてください。

<documents>
[ドキュメント]
</documents>

質問: [質問]

回答要件:
- ドキュメントの情報のみを使用
- 引用元を明記
- 不明な場合は「情報が不足しています」と明示
```

### 具体例

```
以下の社内規定を参照して、質問に答えてください。

<document>
<title>リモートワーク規定</title>
<content>
従業員はリモートワークを週3日まで利用できます。
事前に上司の承認が必要です。
緊急時は事後報告も可能ですが、24時間以内に報告してください。
</content>
</document>

質問: 週4日のリモートワークは可能ですか?

回答要件:
- 規定の内容を引用
- 明確にYes/Noで回答
- 追加の手続きがあれば説明
- 不明な点があれば指摘
```

## 5. 推論タスク

### 基本パターン

```
以下の問題を、ステップバイステップで解いてください。

<problem>
[問題]
</problem>

思考プロセス:
1. 問題の理解と情報の整理
2. 解決に必要なステップの特定
3. 各ステップの実行
4. 検証

最終解答: [答え]
```

### 具体例

```
以下のビジネス問題を、ステップバイステップで分析してください。

<problem>
あるECサイトで、カート放棄率が70%と非常に高いです。
売上を改善するための施策を提案してください。

現状:
- 月間訪問者: 10万人
- カート追加率: 30%（3万人）
- 購入完了率: 30%（9千人）
- 平均単価: 5,000円
</problem>

思考プロセス:
1. 問題の理解
   - カート放棄率70%の影響を計算
   - 改善のポテンシャルを試算

2. 原因の仮説
   - 一般的なカート放棄の原因をリストアップ
   - この状況で最も可能性が高い原因

3. 解決策の立案
   - 短期施策（1-2週間で実施可能）
   - 中期施策（1-3ヶ月）
   - 各施策の期待効果

4. 優先順位付け
   - ROI
   - 実装難易度
   - リスク

5. 推奨案
   - 最も効果的な3つの施策
   - 実装ステップ
   - KPI設定

最終解答: [具体的な推奨施策]
```

## 6. テキスト変換

### 基本パターン

```
以下のテキストを[変換内容]してください。

<input>
[入力テキスト]
</input>

変換要件:
- [要件1]
- [要件2]
- [要件3]

出力形式: [形式]
```

### 具体例

```
以下の技術文書を、非技術者向けに書き直してください。

<input>
このシステムはRESTful APIを使用してマイクロサービス間で通信します。
認証にはJWT トークンを使用し、OAuth 2.0プロトコルに準拠しています。
データベースはPostgreSQLで、レプリケーション構成により高可用性を実現しています。
</input>

変換要件:
- 専門用語を平易な言葉に置き換える
- 技術の利点をビジネス価値の観点から説明
- 比喩や例を使って理解しやすくする
- 3-5文程度に要約

対象読者: 経営層（技術背景なし）
トーン: フォーマルだが親しみやすい
```

## まとめ

各ユースケースの共通パターン:

1. **コンテキスト設定**: ロール、専門分野、対象読者を明示
2. **明確な指示**: 何を、どのように、どの形式で出力するか
3. **構造化**: XMLタグや番号付きリストで情報を整理
4. **制約の明示**: 使用技術、長さ、トーンなどの制約
5. **出力形式の指定**: JSON、Markdown、コードなど

これらのパターンを組み合わせることで、様々なタスクに対応できる。
